Go-Mail Sender - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
===================================

![Flat-square](https://img.shields.io/badge/Go-1.16+-00ADD8?logo=go)  
![Flat-square](https://img.shields.io/badge/SMTP-%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0-green)  
![Flat-square](https://img.shields.io/badge/REST-API-blue)  
![Flat-square](https://img.shields.io/badge/%D0%9B%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F-MIT-yellow)

–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
----------

*   –û–±–∑–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã
    
*   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
    
*   –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
    
*   –†–µ–∂–∏–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI)
    
*   REST API —Ä–µ–∂–∏–º
    
*   –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
    
*   –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
    
*   –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    
*   –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
    
*   –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    
*   –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    

–û–±–∑–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã
---------------

Go-Mail Sender - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ Go. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:

*   **CLI —Ä–µ–∂–∏–º** - –¥–ª—è —Ä–∞–∑–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
    
*   **REST API —Ä–µ–∂–∏–º** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
    

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
-----------

*   ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∏ –º–∞—Å—Å–æ–≤—ã—Ö –ø–∏—Å–µ–º
    
*   ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º
    
*   ‚úÖ –í–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
    
*   ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∏–∑ JSON
    
*   ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º
    
*   ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
    
*   ‚úÖ REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    
*   ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ STARTTLS –∏ SSL
    
*   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID –ø–∏—Å–µ–º
    
*   ‚úÖ –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
---------------------

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   Ubuntu 18.04+ –∏–ª–∏ –¥—Ä—É–≥–∞—è Linux-—Å–∏—Å—Ç–µ–º–∞
    
*   Go 1.16+ (–¥–ª—è —Å–±–æ—Ä–∫–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤)
    
*   –î–æ—Å—Ç—É–ø –∫ SMTP —Å–µ—Ä–≤–µ—Ä—É
    

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go
```bash
\# Ubuntu/Debian
sudo apt update
sudo apt install golang-go

\# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
wget https://go.dev/dl/go1.21.0.linux-amd64.tar.gz
sudo tar \-C /usr/local \-xzf go1.21.0.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' \>> ~/.bashrc
source ~/.bashrc
```
### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```bash
\# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
go mod init go-mail

\# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go get github.com/gin-gonic/gin
go get github.com/google/uuid
go get github.com/wneessen/go-mail

\# –°–±–æ—Ä–∫–∞
go build \-o go-mail

\# –ü—Ä–æ–≤–µ—Ä–∫–∞
./go-mail \-help
```
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ SMTP —Å–µ—Ä–≤–µ—Ä—ã. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

–ü–∞—Ä–∞–º–µ—Ç—Ä

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é

–û–ø–∏—Å–∞–Ω–∏–µ

`-host`

`smtp.example.com`

SMTP —Å–µ—Ä–≤–µ—Ä

`-port`

`25`

–ü–æ—Ä—Ç SMTP

`-user`

`user@example.com`

Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

`-pass`

`your_password`

–ü–∞—Ä–æ–ª—å

–†–µ–∂–∏–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI)
----------------------------

### –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–ª–∞–≥–∏

```bash
./go-mail \-help
```
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏:**

–§–ª–∞–≥

–û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä

`-host`

SMTP —Ö–æ—Å—Ç

`-host smtp.example.com`

`-port`

SMTP –ø–æ—Ä—Ç

`-port 587`

`-user`

Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

`-user sender@example.com`

`-pass`

–ü–∞—Ä–æ–ª—å

`-pass "secret"`

`-to`

–ü–æ–ª—É—á–∞—Ç–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

`-to "user1@example.com,user2@example.com"`

`-toFile`

JSON —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π

`-toFile recipients.json`

`-subject`

–¢–µ–º–∞ –ø–∏—Å—å–º–∞

`-subject "–í–∞–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"`

`-body`

–¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞

`-body "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∏—Å—å–º–∞"`

`-bodyFile`

–§–∞–π–ª —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –ø–∏—Å—å–º–∞

`-bodyFile message.html`

`-html`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML —Ñ–æ—Ä–º–∞—Ç

`-html`

`-attach`

–§–∞–π–ª—ã –¥–ª—è –≤–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

`-attach "file1.pdf,image.jpg"`

`-id`

ID –ø–∏—Å—å–º–∞

`-id "newsletter_001"`

`-api`

–ó–∞–ø—É—Å–∫ –≤ API —Ä–µ–∂–∏–º–µ

`-api :8080`

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI

#### 1\. –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ

bash

./go-mail \\
  \-to "user@example.com" \\
  \-subject "–¢–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ" \\
  \-body "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"

#### 2\. HTML –ø–∏—Å—å–º–æ —Å —Ñ–∞–π–ª–æ–º

bash

./go-mail \\
  \-to "user@example.com" \\
  \-subject "HTML –ø–∏—Å—å–º–æ" \\
  \-bodyFile "newsletter.html" \\
  \-html

#### 3\. –ü–∏—Å—å–º–æ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏

bash

./go-mail \\
  \-to "user@example.com" \\
  \-subject "–î–æ–∫—É–º–µ–Ω—Ç—ã" \\
  \-body "–°–º–æ—Ç—Ä–∏—Ç–µ –≤–ª–æ–∂–µ–Ω–∏—è" \\
  \-attach "document.pdf,image.jpg"

#### 4\. –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞

bash

./go-mail \\
  \-to "user1@example.com,user2@example.com,user3@example.com" \\
  \-subject "–ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞" \\
  \-body "–û–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö"

#### 5\. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π

```bash
./go-mail \\
  \-toFile "recipients.json" \\
  \-subject "–†–∞—Å—Å—ã–ª–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞" \\
  \-body "–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π"
```
#### 6\. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```bash
./go-mail \\
  \-host "smtp.example.com" \\
  \-port 25 \\
  \-user "sender@example.com" \\
  \-pass "password" \\
  \-to "user1@example.com,user2@example.com" \\
  \-subject "–í–∞–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" \\
  \-bodyFile "message.html" \\
  \-html \\
  \-attach "report.pdf" \\
  \-id "newsletter\_001"
```
REST API —Ä–µ–∂–∏–º
--------------

### –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞

```bash
./go-mail \-api :8080
```
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É –∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤.

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

#### 1\. –û—Ç–ø—Ä–∞–≤–∫–∞ email

**POST** `/api/send`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "to": \["user1@example.com", "user2@example.com"\],
  "subject": "–¢–µ–º–∞ –ø–∏—Å—å–º–∞",
  "body": "–¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞",
  "body\_file": "–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.html",
  "is\_html": true,
  "attachments": \["file1.pdf", "image.jpg"\],
  "message\_id": "custom\_id\_123"
}
```
**–û—Ç–≤–µ—Ç:**

```json
{
  "id": "custom\_id\_123",
  "status": "accepted",
  "message": "–ü–∏—Å—å–º–æ –ø—Ä–∏–Ω—è—Ç–æ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É"
}
```

#### 2\. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

**GET** `/api/status/{id}`

**–û—Ç–≤–µ—Ç:**

```json
{
  "id": "custom\_id\_123",
  "timestamp": "2024-01-15T14:30:45.123456789Z",
  "overall\_status": "partial\_success",
  "details": \[
    {
      "email": "user1@example.com",
      "status": "success",
      "time": "2024-01-15T14:30:46.123456789Z",
      "message": "–ü–∏—Å—å–º–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ"
    },
    {
      "email": "user2@example.com",
      "status": "error",
      "time": "2024-01-15T14:30:47.123456789Z",
      "error": "–æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ..."
    }
  \]
}
```
#### 3\. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

**GET** `/api/health`

**–û—Ç–≤–µ—Ç:**

```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T14:30:45.123456789Z",
  "service": "Email Sender API"
}
```
### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

#### –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ curl

```bash
curl \-X POST http://localhost:8080/api/send \\
  \-H "Content-Type: application/json" \\
  \-d '{
    "to": \["test@example.com"\],
    "subject": "–¢–µ—Å—Ç —á–µ—Ä–µ–∑ API",
    "body": "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ REST API",
    "is\_html": false
  }'
```
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:8080/api/status/custom\_id\_123
```
#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Python

```python
import requests

response \= requests.post("http://localhost:8080/api/send", json\={
    "to": \["user@example.com"\],
    "subject": "–ü–∏—Å—å–º–æ –∏–∑ Python",
    "body": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç",
    "is\_html": False
})

print(response.json())
```
–§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
--------------

### 1\. –§–∞–π–ª –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (JSON)

**–§–æ—Ä–º–∞—Ç:**

```json
{
  "emails": \[
    "user1@example.com",
    "user2@example.com",
    "user3@example.com",
    "user4@example.com"
  \]
}
```
**–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è:**

```bash
cat \> recipients.json << EOF
{
  "emails": \[
    "user1@example.com",
    "user2@example.com",
    "user3@example.com"
  \]
}
EOF
```
### 2\. HTML —à–∞–±–ª–æ–Ω –ø–∏—Å—å–º–∞

**–ü—Ä–∏–º–µ—Ä:**

```html
<!DOCTYPE html\>
<html\>
<head\>
    <meta charset\="UTF-8"\>
    <title\>–ù–æ–≤–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–∏</title\>
    <style\>
        body { font-family: Arial, sans-serif; line-height: 1.6; }
        .header { background: #f4f4f4; padding: 20px; text-align: center; }
        .content { padding: 20px; }
        .footer { background: #333; color: white; padding: 10px; text-align: center; }
    </style\>
</head\>
<body\>
    <div class\="header"\>
        <h1\>–ù–æ–≤–æ—Å—Ç–∏ –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏</h1\>
    </div\>
    
    <div class\="content"\>
        <h2\>–£–≤–∞–∂–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç!</h2\>
        <p\>–ú—ã —Ä–∞–¥—ã —Å–æ–æ–±—â–∏—Ç—å –≤–∞–º –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç—è—Ö:</p\>
        
        <ul\>
            <li\><strong\>–ù–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç</strong\> - —É–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω</li\>
            <li\><strong\>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</strong\> - —Ç–æ–ª—å–∫–æ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π</li\>
            <li\><strong\>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞</strong\> - —É–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li\>
        </ul\>
        
        <p\>–° —É–≤–∞–∂–µ–Ω–∏–µ–º,<br\>–ö–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø–∞–Ω–∏–∏</p\>
    </div\>
    
    <div class\="footer"\>
        <p\>&copy; 2024 –ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p\>
        <p\><a href\="#" style\="color: #fff;"\>–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏</a\></p\>
    </div\>
</body\>
</html\>
```
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
------------------------

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `logs` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –Ω–µ–µ JSON —Ñ–∞–π–ª—ã:

```text
logs/
‚îú‚îÄ‚îÄ newsletter\_001.json
‚îú‚îÄ‚îÄ 550e8400-e29b-41d4-a716-446655440000.json
‚îî‚îÄ‚îÄ custom\_id\_123.json
```
### –§–æ—Ä–º–∞—Ç –ª–æ–≥-—Ñ–∞–π–ª–∞

```json
{
  "id": "newsletter\_001",
  "timestamp": "2024-01-15T14:30:45.123456789Z",
  "from": "sender@example.com",
  "subject": "–ù–æ–≤–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–∏",
  "overall\_status": "partial\_success",
  "recipients": \[
    {
      "email": "user1@example.com",
      "status": "success",
      "time": "2024-01-15T14:30:46.123456789Z",
      "message": "–ü–∏—Å—å–º–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ"
    },
    {
      "email": "user2@example.com",
      "status": "error",
      "time": "2024-01-15T14:30:47.123456789Z",
      "error": "–æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: dial tcp: lookup example.com: no such host"
    }
  \]
}
```
### –°—Ç–∞—Ç—É—Å—ã –æ—Ç–ø—Ä–∞–≤–∫–∏

*   `success` - –≤—Å–µ –ø–∏—Å—å–º–∞ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
    
*   `partial_success` - —á–∞—Å—Ç—å –ø–∏—Å–µ–º –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞, —á–∞—Å—Ç—å –Ω–µ—Ç
    
*   `failed` - –≤—Å–µ –ø–∏—Å—å–º–∞ –Ω–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
    
*   `accepted` - –ø–∏—Å—å–º–æ –ø—Ä–∏–Ω—è—Ç–æ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É (—Ç–æ–ª—å–∫–æ –¥–ª—è API)
    

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
\# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤
ls \-la logs/

\# –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ª–æ–≥–∞
cat logs/newsletter\_001.json

\# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API)
tail \-f logs/latest.log
```
–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
---------------------

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞

```bash
#!/bin/bash
\# daily\_newsletter.sh

./go-mail \\
  \-toFile "subscribers.json" \\
  \-subject "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ $(date +%Y-%m-%d)" \\
  \-bodyFile "daily\_news.html" \\
  \-html \\
  \-id "daily\_$(date +%Y%m%d)"
```
### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

```bash
#!/bin/bash
\# system\_alert.sh

./go-mail \\
  \-to "admin@company.com" \\
  \-subject "–°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ" \\
  \-body "–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ –ø—Ä–æ–±–ª–µ–º—É: $1" \\
  \-id "alert\_$(date +%s)"
```
### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```bash
\# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞ –∫–∞–∫ —Å–ª—É–∂–±—ã
nohup ./go-mail \-api :8080 \> mailer.log 2\>&1 &

\# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ
curl \-X POST http://localhost:8080/api/send \\
  \-H "Content-Type: application/json" \\
  \-d '{
    "to": \["'"$USER\_EMAIL"'"\],
    "subject": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
    "body": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É!",
    "message\_id": "reg\_'$(date +%s)'"
  }'
```
–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
--------------------

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1\. –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ SMTP

```text
–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: dial tcp: lookup host: no such host
```
**–†–µ—à–µ–Ω–∏–µ:**

*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ SMTP —Å–µ—Ä–≤–µ—Ä–∞
    
*   –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏
    
*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    

#### 2\. –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

```text
–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: 535 5.7.8 Error: authentication failed
```
**–†–µ—à–µ–Ω–∏–µ:**

*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
    
*   –î–ª—è Gmail –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
    
*   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
    

#### 3\. –ü–∏—Å—å–º–∞ –Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SPF/DKIM –¥–æ–º–µ–Ω–∞
    
*   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ IP –∞–¥—Ä–µ—Å –Ω–µ –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ
    
*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–°–ø–∞–º" –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    

#### 4\. –û—à–∏–±–∫–∏ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏

```text
–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞: open file.pdf: no such file or directory
```
**–†–µ—à–µ–Ω–∏–µ:**

*   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    
*   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
    
*   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
    

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ SMTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```bash
telnet smtp.example.com 25
```
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

```bash
\# –ü—Ä–æ–≤–µ—Ä–∫–∞ MX –∑–∞–ø–∏—Å–µ–π
dig MX example.com

\# –ü—Ä–æ–≤–µ—Ä–∫–∞ SPF
dig TXT example.com
```
#### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
\# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏
./go-mail \-to "test@example.com" \-subject "Test" \-body "Test message"

\# –¢–µ—Å—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
./go-mail \-to "test@example.com" \-subject "Debug" \-body "Test" \-id "debug\_test"
```
### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å:

```text
üìß –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ ID: newsletter\_001
   –°–µ—Ä–≤–µ—Ä: smtp.example.com:25
   –û—Ç: sender@example.com
   –¢–µ–º–∞: –¢–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ
   –ü–æ–ª—É—á–∞—Ç–µ–ª–∏: user1@example.com, user2@example.com
üöÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ 2 –ø–∏—Å–µ–º...
   ‚úÖ –£—Å–ø–µ—à–Ω–æ: user1@example.com
   ‚ùå –û—à–∏–±–∫–∞: user2@example.com - –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ...
‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω! –°—Ç–∞—Ç—É—Å: partial\_success
üìÅ –õ–æ–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: logs/newsletter\_001.json
```
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
------------

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1.  **–•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:**
    
    *   –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö
        
    *   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
        
    *   –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
        
2.  **–î–æ—Å—Ç—É–ø –∫ API:**
    
    *   –ó–∞–ø—É—Å–∫–∞–π—Ç–µ API —Ç–æ–ª—å–∫–æ –Ω–∞ localhost –≤ production
        
    *   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reverse proxy —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
        
    *   –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP
        
3.  **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞:**
    
    *   –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ email –∞–¥—Ä–µ—Å–∞ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
        
    *   –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –≤–ª–æ–∂–µ–Ω–∏–π
        
    *   –°–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–π—Ç–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
        

### –ü—Ä–∏–º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
\# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export SMTP\_PASSWORD\="your\_password"
./go-mail \-to "$RECIPIENT" \-pass "$SMTP\_PASSWORD"

\# –ó–∞–ø—É—Å–∫ API —Ç–æ–ª—å–∫–æ –Ω–∞ localhost
./go-mail \-api 127.0.0.1:8080
```


–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
------------------

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö —Ä–∞—Å—Å—ã–ª–æ–∫
1.  **–õ–∏–º–∏—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏:**
    *   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏
    *   –†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏ –Ω–∞ —á–∞—Å—Ç–∏
    *   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∫–∏
        
2.  **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:**
    *   –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
    *   –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    *   –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        

### –ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

```bash
#!/bin/bash
\# bulk\_sender.sh

BATCH\_SIZE\=50
DELAY\=5

\# –†–∞–∑–±–∏–≤–∞–µ–º –±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –Ω–∞ —á–∞—Å—Ç–∏
jq \-c '.emails | .\[\]' recipients.json | \\
while read email; do
    ./go-mail \\
        \-to "$email" \\
        \-subject "–ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞" \\
        \-bodyFile "message.html" \\
        \-html \\
        \-id "bulk\_$(date +%s)"
    
    \# –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏
    sleep $DELAY
done
```
–õ–∏—Ü–µ–Ω–∑–∏—è
--------
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ LICENSE.


–ü–æ–¥–¥–µ—Ä–∂–∫–∞
---------
–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2.  –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
3.  –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ SMTP
    

* * *

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
*   [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Go](https://golang.org/doc/)
*   [–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ go-mail](https://github.com/wneessen/go-mail)
*   [–§—Ä–µ–π–º–≤–æ—Ä–∫ Gin](https://gin-gonic.com/)
    


–£–¥–∞—á–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏! üöÄ
